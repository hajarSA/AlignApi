<html>
<head>
<title>The alignment API in Java</title>
<!--style type="text/css">@import url(style.css);</style-->
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body bgcolor="#ffffff">

<h1 class="titre">The alignment API in Java</h1>

<p>We have developed an alignment toolkit for OWL by:
<ul compact="1">
<li>Extending the OWL-API towards <a href="format.html">alignment</a>;</li>
<li>Providing an implementation of the Alignment API;</li>
<li>Implementing further alignment methods;</li>
</ul></p>

<p>An extensive presentation of the alignment API can be
  found <a href="align.pdf">here</a>. We also have
  a <a href="tutorial">tutorial</a> on using it.</p>

<h2>Getting the Alignment API</h2>

<h3>Fetching the ZIP'ed version</h3>

<p>The simplest way to use alignapi is to get the last release
  zipfile from the site <a href="http://gforge.inria.fr/frs/?group_id=117">http://gforge.inria.fr/frs/?group_id=117</a>. It contains all the sources, compiled
library, OWL API library.</p>

<h3>Anonymous Subversion</h3>

<p>The very last version of alignapi can be fetched from the subversion
  source tree that can be found at:
<a href="http://gforge.inria.fr/scm/?group_id=117">http://gforge.inria.fr/scm/?group_id=117</a>
</p>
<p>From there you have two options:
<dl compact="1">
<dt>Getting the last nightly build</dt>
<dd>This will provide you with the source but no opportunity to
  smoothly upgrade it.</dd>
<dt>Checking out (anonymously) the repository</dt>
<dd>Can be achieved by just doing the following:
<!-- $ cvs -d :pserver:cvs@cvs-sop.inria.fr:/CVS/exmosoft login
&lt;ENTER return when asked for the password&gt;
$ cvs -d :pserver:cvs@cvs-sop.inria.fr:/CVS/exmosoft checkout
alignapi-->
<div class="fragment"><pre>
$ svn checkout svn://scm.gforge.inria.fr/svn/alignapi/trunk/ 
</pre></div>
... and you are done.</dd>
</dl>
Note that you may have to fetch separately the <a href="owlapi.html">OWL-API</a>.</p>

<h3>Subversion account</h3>

<p>If you have improved alignapi and want this to be included in the
  source base or if you want to seriously work on improving the
  software, please contact
  Jerome . Euzenat (&Agrave;) inrialpes . fr.</p>

<p>We can either commit your ponctual changes or give you commit
  rights to the repository (for that purpose, you will have to first
  register by <a href="http://gforge.inria.fr">http://gforge.inria.fr</a>.</p>

<p>Once provided with a password you will be able to check out from and
  commit in our repository through:
<div class="fragment"><pre>
<!--
$ export CVS_RSH=`which ssh`
$ cvs -d :ext:&lt;loginname&gt;@cvs-sop.inria.fr:/CVS/exmosoft --
  --checkout alignapi
-->
$ svn checkout svn+ssh://username@scm.gforge.inria.fr/svn/alignapi/trunk
</pre></div>
(If you are not familliar with subversion, it is worth looking at the
documentation. If you are familiar with CVS, the move is straightforward.)
</p>

<h3>Running</h3>

<p>Running the program is achieved through:
<div class="fragment"><pre>
$ java -jar lib/procalign.jar
usage: Procalign [options] URI1 URI2
options are:
        --impl=className -i classname           Use the given alignment implementation.
        --renderer=className -r className       Specifies the alignment renderer
        --output=filename -o filename   Output the alignment in filename
        --alignment=filename -a filename Start from an XML alignment file
        --threshold=double -t double    Filters the similarities under threshold
        --debug[=n] -d [n]              Report debug info at level n
        --help -h                       Print this message
</pre></div>
More details are available below.
</p>

<h3>Release notes</h3>
<p>They are provided <a href="relnotes.html">here</a>.</p>

<h3>Documentation</h3>
<p>The documentation can be found on <a href="http://gforge.inria.fr/docman/?group_id=117">http://gforge.inria.fr/docman/?group_id=117</a>.</p>

<h2>Installation</h2>

<p>"Installing" is really straightforward.</p>

<h3>Files</h3>

<p>Whatever your mode of getting ontolign you will get an alignapi
  directory containing the following subdirectories:
<ul compact="1">
  <li>src: source classes;</li>
  <li>rdf: some examples to be tested;</li>
  <li>results: some result alignments and evaluations;</li>
  <li>dtd: the align.dtd and align.owl alignment specification;</li>
  <li>lib: jar-files (in the zip-file the owl-api libraries are included);</li>
  <li>html: a few html presentation files</li>
  <li>html/tutorial: a tutorial on using the API</li>
  <li>build.xml: ant file to compile and generate jar-files.</li>
  <li>distrib: contains a few files for building the distribution</li>
  <li>classes: the compiled classes (in the zip file, the classes are
  included)</li> 
  <li>samples: </li>
  <li>javadoc: generated javadoc (in the zip file the doc are
  pregenerated);</li> 
</ul>
</p>

<h3>Requirements</h3>

<p><b>For using</b> you will need <a href="http://java.sun.com">Java
  runtime environment</a> (tested in 1.4.1) and the <a href="owlapi.html">OWL-API binary distribution</a> (this is
  included in the above zip file).<br/>
Note that OWL-API needs log4j and getopt packages, but these are
  included in the binary distribution of the OWL API.
</p>

<p><b>For extending</b> you will need Java compiler (tested in  <a href="http://java.sun.com">Java
  standard edition</a> 1.4.1) and the <a href="owlapi.html">OWL-API binary distribution</a> (this is included in the
  above zip file).

<p><b>For developing</b> (compiling) you will need Java compiler
  (tested in  <a href="http://java.sun.com">Java standard edition</a> 1.4.1) and the <a href="owlapi.html">OWL-API binary distribution</a> (which is
  included in the SVN repository). It is also very usefull to
  have <a ref="http://ant.apache.org">Ant</a>.</p>

<h3>Required libraries (jar)</h3>

<p>Using the api (align.jar) requires:
<ul compact="1">
<li>OWL-API (api.jar)</li>
</ul></p>
<p>Using its implementation (procalign.jar) requires in addition:
<ul compact="1">
<li>the implementation of the OWL-API (impl.jar, io.jar, rdfparser.jar,
rdfapi.jar),</li>
<li>GNU parameter management (getopt.jar),</li>
<li>(log4j.jar).</li>
</ul></p>
<p>Using the <a href="alignwn.html">Wordnet example</a> requires, in
addition:
<ul compact="1">
<li>commons-logging.jar</li>
<li>The Java WordNet Library (jwnl.jar).</li>
</ul></p>

<h3>Assembling</h3>

<p>A good way of setting your environment (from the SVN archive) for
  developing is to unzip the OWL-API binary distribution and put the
  files in the alignapi directories:
<div class="fragment"><pre>
$ unzip owlapi-bin-03-10-15.zip
$ mv owl/lib/* lib
$ ant jar
$ mv owl/javadoc/* javadoc
$ ant javadoc
$ rm -rf owl
</pre></div>
</p>

<h2>Compilation and use</h2>

<p>Generating the lib/procalign.jar file (and the other libraries) can
  be done by launching:
<div class="fragment"><pre>
$ ant jar
</pre></div></p>

<h2>Using the API</h2>

<p>A <a href="tutorial">tutorial</a> presents how to use the Alignment
  API</p>

<p>An extensive presentation of the alignment API can be found 
in the documentation section. It documents use and extension of the API.</p>

<h2>License</h2>

<p>The alignment API and its implementation is distributed under the
  GNU <a href="../distrib/LICENSE.TXT">Lesser General Public License</a>.</p>

<h2>The alignment API</h2>
<p>The OWL-API is extended with the
  (<tt>org.semanticweb.owl.align</tt>) package. Which describes the
  Alignment API. This API is, in turns, an "implementation" of the <a
  href="format.html">Alignment format</a>.</p>
<p>It is basically made of three interfaces:
<dl compact="1">
<dt><tt>Alignment</tt></dt><dd>Represents the alignment of two ontology by a
    specific method. It contains a specification of the alignment and
    a list of cells.</dd>
<dt><tt>Cell</tt></dt><dd>Represents a couple of aligned entities together
    with their confidence measure and alignement relation.</dd>
<dt><tt>Relation</tt></dt><dd>Represents the specification of the relation
    holding between two aligned entities.</dd>
</dl>
</p>
<p>More information about the attributes of these classes can be
  found in the <a href="format.html">format description</a>.</p>
<p>Addtionnally, there is an <tt>AlignmentProcess</tt> interface which
  contains a method for calling a particular alignment method (it is
  a sub-interface of <tt>Alignment</tt>) and an <tt>AlignmentException</tt>.</p>

<h2>Implementing and extending the API</h2>
<p>A (default) impplementation of this API can be found in
  the <tt>fr.inrialpes.exmo.align.impl</tt> package.</p>
<p>Adding new alignments methods amounts to create a
  new <tt>AlignmentProcess</tt> 
  class implementing the interface. Generally, this can extend the
  proposed <tt>fr.inrialpes.exmo.align.impl.BasicAlignment</tt>
  class and implement  <tt>AlignmentProcess</tt>.</p>
<p>The <tt>BasicAlignment</tt> has the good taste of defining the storage
  sructures for ontologies and alignment specification as well as the
  methods for dealing with alignment display. The only method it does
  not implement is alignment itself. All methods can be refined (no
  one is final).</p>
<p>The <tt>NameEqAlignment</tt> class extends
  the <tt>BasicAlignment</tt> by  aligning classes bearing the exact
  same name for properties and classes).</p>
<p>A more elaborate implementation is
  the <tt>EditDistNameAlignment</tt> class which uses an edit
  distance on class names. It thus have to build a matrix of distance
  and to choose the alignment from the distance. It can be called by:
<div class="fragment"><pre>
$ java -jar lib/procalign.jar file://localhost$CWD/rdf/onto1.owl file://localhost$CWD/rdf/onto2.owl -i fr.inrialpes.exmo.align.impl.method.EditDistNameAlignment
</pre></div>
which returns:
<div class="code"><pre>
&lt;?xml version='1.0' encoding='utf-8' standalone='no'?>
&lt;!DOCTYPE rdf:RDF SYSTEM "align.dtd">

&lt;rdf:RDF xmlns='http://knowledgeweb.semanticweb.org/heterogeneity/alignment'>
&lt;Alignment>
  &lt;xml>yes&lt;/xml>
  &lt;level>0&lt;/level>
  &lt;type>11&lt;/type>
  &lt;onto1>file://localhost$CWD/rdf/onto1.owl&lt;/onto1>
  &lt;onto2>file://localhost$CWD/rdf/onto2.owl&lt;/onto2>
  &lt;map>
    &lt;Cell>
      &lt;entity1 rdf:resource='http://www.example.org/ontology1#reviewedarticle'/>
      &lt;entity2 rdf:resource='http://www.example.org/ontology2#article'/>
      &lt;measure rdf:datatype='xsd:float'>0.5333333333333333&lt;/measure>
      &lt;relation>=&lt;/relation>
    &lt;/Cell>
    &lt;Cell>
      &lt;entity1 rdf:resource='http://www.example.org/ontology1#journalarticle'/>
      &lt;entity2 rdf:resource='http://www.example.org/ontology2#journalarticle'/>
      &lt;measure rdf:datatype='xsd:float'>0.0&lt;/measure>
      &lt;relation>=&lt;/relation>
    &lt;/Cell>
  &lt;/map>
&lt;/Alignment>
&lt;/rdf:RDF>
</pre></div>
</p>

<address>
<small>
<hr />
<center>http://alignapi.gforge.inria.fr/align.html</center>
<hr />
$Id$
</small>
</address>
</body>
</html>
