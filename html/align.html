<html>
<head>
<title>The alignment API in Java</title>
<style type="text/css">@import url(style.css);</style>
</head>
<body bgcolor="#ffffff">

<h1 class="titre">The alignment API in Java</h1>

<p>We develop an alignment toolkit for OWL by:
<ul compact="1">
<li>Extending the OWL-API towards <a href="format.html">alignment</a>;</li>
<li>Providing an implementation of the API;</li>
<li>Implementing further alignment methods;</li>
</ul></p>

<p>An extensive presentation of the alignment API can be found <a href="align.pdf">here</a>.</p>

<h1>Getting ontoalign</h1>

<h2>Fetching the ZIP'ed version</h2>

<p>The simplest way to use ontoalign is to get the last release
  zipfile from the site <a href="http://gforge.inria.fr/frs/?group_id=117">http://gforge.inria.fr/frs/?group_id=117</a>. It contains all the sources, compiled
library, OWL API library.</p>

<h2>Anonymous CVS</h2>

<p>The very last version of ontoalign can be fetched from the SVN
  source tree that can be found at:
<a href="http://gforge.inria.fr/scm/?group_id=117">http://gforge.inria.fr/scm/?group_id=117</a>
</p>
<p>Just do the following:
<pre>
$ cvs -d :pserver:cvs@cvs-sop.inria.fr:/CVS/exmosoft login
&lt;ENTER return when asked for the password&gt;
$ cvs -d :pserver:cvs@cvs-sop.inria.fr:/CVS/exmosoft checkout ontoalign
</pre>
... and you are done.
Note that you will have to fetch separately the <a href="owlapi.html">OWL-API</a>.</p>

<h2>CVS account</h2>

<p>If you have improved ontoalign and want this to be included in the
  source tree and want to have a CVS account for that, please contact
  Jerome . Euzenat (&Agrave;) inrialpes . fr.</p>

<p>Once provided with a password you will be able to check out from and
  commit in our repository through:
<pre>
$ export CVS_RSH=`which ssh`
$ cvs -d :ext:&lt;loginname&gt;@cvs-sop.inria.fr:/CVS/exmosoft checkout ontoalign
</pre>
(If you are not familliar with SSH, it is useful to spend half an
hour to know how to avoid to be asked your password anytime).</br>
If you are not familiar with CVS, its is time to document yourself.
</p>

<h2>Release notes</h2>
<p>They are provided <a href="relnotes.html">here</a>.</p>

<h1>Installation</h1>

<p>"Installing" is really straightforward.</p>

<h2>Files</h2>

<p>Whatever your mode of getting ontolign you will get an ontoalign
  directory containing the following subdirectories:
<ul compact="1">
  <li>src: source classes;</li>
  <li>rdf: some examples to be tested;</li>
  <li>results: some result alignments and evaluations;</li>
  <li>dtd: the align.dtd and align.owl alignment specification;</li>
  <li>lib: jar-files (in the zip-file the owl-api libraries are included);</li>
  <li>html: a few html presentation files</li>
  <li>build.xml: ant file to compile and generate jar-files.</li>
  <li>distrib: contains a few files for building the distribution</li>
  <li>classes: the compiled classes (in the zip file, the classes are
  included)</li> 
  <li>samples: </li>
  <li>javadoc: generated javadoc (in the zip file the doc are
  pregenerated);</li> 
</ul>
</p>

<h2>Requirements</h2>

<p><b>For using</b> you will need <a href="http://java.sun.com">Java
  runtime environment</a> (tested in 1.4.1) and the <a href="owlapi.html">OWL-API binary distribution</a> (this is
  included in the above zip file).<br/>
Note that OWL-API needs log4j and getopt packages, but these are
  included in the binary distribution of the OWL API.
</p>

<p><b>For extending</b> you will need Java compiler (tested in  <a href="http://java.sun.com">Java
  standard edition</a> 1.4.1) and the <a href="owlapi.html">OWL-API binary distribution</a> (this is included in the
  above zip file).

<p><b>For developing</b> (compiling) you will need Java compiler
  (tested in  <a href="http://java.sun.com">Java standard edition</a> 1.4.1) and the <a href="owlapi.html">OWL-API binary distribution</a> (which is
  not included in the CVS repositories). It is also very usefull to
  have <a ref="http://ant.apache.org">Ant</a>.</p>

<h2>Required libraries (jar)</h2>

<p>Using the api (align.jar) requires:
<ul compact="1">
<li>OWL-API (api.jar)</li>
</ul></p>
<p>Using its implementation (procalign.jar) requires in addition:
<ul compact="1">
<li>the implementation of the OWL-API (impl.jar, io.jar, rdfparser.jar,
rdfapi.jar),</li>
<li>GNU parameter management (getopt.jar),</li>
<li>(log4j.jar).</li>
</ul></p>
<p>Using the <a href="alignwn.html">Wordnet example</a> requires, in
addition:
<ul compact="1">
<li>commons-logging.jar</li>
<li>The Java WordNet Library (jwnl.jar).</li>
</ul></p>

<h2>Assembling</h2>

<p>A good way of setting your environment (from the CVS archive) for
  developing is to unzip the OWL-API binary distribution and put the
  files in the ontoalign directories:
<pre>
$ unzip owlapi-bin-03-10-15.zip
$ mv owl/lib/* lib
$ ant jar
$ mv owl/javadoc/* javadoc
$ ant javadoc
$ rm -rf owl
</pre>
</p>

<h1>Compilation and use</h1>

<p>Generating the lib/procalign.jar file (and the other libraries) can
  be done by launching:
<pre>
$ ant jar
</pre></p>

<h1>Using the API</h1>

<p>An extensive presentation of the alignment API can be found 
<a href="align.pdf">here</a>. It documents use and extension of the API.</p>

<p>For demonstrating the use of the API, we implement it and use it
  through a particular processor
  (<tt>fr.inrialpes.exmo.align.util.Procalign</tt>) which:
<ul compact="1">
<li>Reads two OWL/RDF ontologies;</li>
<li>Creates an alignment object;</li>
<li>Computes the alignment between these ontologies;</li>
<li>Displays the result.</li>
</ul>
Running the program is achieved through:
<pre>
$ java -jar lib/procalign.jar
usage: Procalign [options] URI1 URI2
options are:
        --impl=className -i classname           Use the given alignment implementation.
        --renderer=className -r className       Specifies the alignment renderer
        --output=filename -o filename   Output the alignment in filename
        --alignment=filename -a filename Start from an XML alignment file
        --threshold=double -t double    Filters the similarities under threshold
        --debug[=n] -d [n]              Report debug info at level n
        --help -h                       Print this message
</pre>
or ($CWD is the current directory)
<pre>
$ java -jar lib/procalign.jar file://localhost$CWD/rdf/onto1.owl file://localhost$CWD/rdf/onto2.owl 
</pre>
Additionaly a number of options are available:
<ul compact="1">
<li>displaying debug information (-d);</li>
<li>controling the way of rendering the output (-r);</li>
<li>deciding the implementation of the alignment method (-i);</li>
<li>providing an input alignent (-a) [implemented but not used by most
  methods].</li>
</ul>
</p>

<h1>License</h1>

<p>The alignment API and its implementation is distributed under the
  GNU <a href="../distrib/LICENSE.TXT">Lesser General Public License</a>.</p>

<h1>The alignment API</h1>
<p>The OWL-API is extended with the
  (<tt>org.semanticweb.owl.align</tt>) package. Which describes the
  Alignment API. This API is, in turns, an "implementation" of the <a
  href="format.html">Alignment format</a>.</p>
<p>It is basically made of three interfaces:
<dl compact="1">
<dt><tt>Alignment</tt></dt><dd>Represents the alignment of two ontology by a
    specific method. It contains a specification of the alignment and
    a list of cells.</dd>
<dt><tt>Cell</tt></dt><dd>Represents a couple of aligned entities together
    with their confidence measure and alignement relation.</dd>
<dt><tt>Relation</tt></dt><dd>Represents the specification of the relation
    holding between two aligned entities.</dd>
</dl>
</p>
<p>More information about the attributes of these classes can be
  found in the <a href="format.html">format description</a>.</p>
<p>Addtionnally, there is an <tt>AlignmentProcess</tt> interface which
  contains a method for calling a particular alignment method (it is
  a sub-interface of <tt>Alignment</tt>) and an <tt>AlignmentException</tt>.</p>

<h1>Implementing and extending the API</h1>
<p>A (default) impplementation of this API can be found in
  the <tt>fr.inrialpes.exmo.align.impl</tt> package.</p>
<p>Adding new alignments methods amounts to create a
  new <tt>AlignmentProcess</tt> 
  class implementing the interface. Generally, this can extend the
  proposed <tt>fr.inrialpes.exmo.align.impl.BasicAlignment</tt>
  class and implement  <tt>AlignmentProcess</tt>.</p>
<p>The <tt>BasicAlignment</tt> has the good taste of defining the storage
  sructures for ontologies and alignment specification as well as the
  methods for dealing with alignment display. The only method it does
  not implement is alignment itself. All methods can be refined (no
  one is final).</p>
<p>The <tt>NameEqAlignment</tt> class extends
  the <tt>BasicAlignment</tt> by  aligning classes bearing the exact
  same name for properties and classes).</p>
<p>A more elaborate implementation is
  the <tt>EditDistNameAlignment</tt> class which uses an edit
  distance on class names. It thus have to build a matrix of distance
  and to choose the alignment from the distance. It can be called by:
<pre>
$ java -jar lib/procalign.jar file://localhost$CWD/rdf/onto1.owl file://localhost$CWD/rdf/onto2.owl -i fr.inrialpes.exmo.align.impl.method.EditDistNameAlignment
</Pre>
which returns:
<pre>
&lt;?xml version='1.0' encoding='utf-8' standalone='no'?>
&lt;!DOCTYPE rdf:RDF SYSTEM "align.dtd">

&lt;rdf:RDF xmlns='http://knowledgeweb.semanticweb.org/heterogeneity/alignment'>
&lt;Alignment>
  &lt;xml>yes&lt;/xml>
  &lt;level>0&lt;/level>
  &lt;type>11&lt;/type>
  &lt;onto1>file://localhost$CWD/rdf/onto1.owl&lt;/onto1>
  &lt;onto2>file://localhost$CWD/rdf/onto2.owl&lt;/onto2>
  &lt;map>
    &lt;Cell>
      &lt;entity1 rdf:resource='http://www.example.org/ontology1#reviewedarticle'/>
      &lt;entity2 rdf:resource='http://www.example.org/ontology2#article'/>
      &lt;measure rdf:datatype='xsd:float'>0.5333333333333333&lt;/measure>
      &lt;relation>=&lt;/relation>
    &lt;/Cell>
    &lt;Cell>
      &lt;entity1 rdf:resource='http://www.example.org/ontology1#journalarticle'/>
      &lt;entity2 rdf:resource='http://www.example.org/ontology2#journalarticle'/>
      &lt;measure rdf:datatype='xsd:float'>0.0&lt;/measure>
      &lt;relation>=&lt;/relation>
    &lt;/Cell>
  &lt;/map>
&lt;/Alignment>
&lt;/rdf:RDF>
</pre>
</p>

<address>
<small>
<hr />
<center>http://co4.inrialpes.fr/align/align.html</center>
<hr />
$Id$
</small>
</address>
</body>
</html>
